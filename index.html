<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LOGISTICS AUCTION SHOW</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Orbitron:wght@400;700;900&family=Rajdhani:wght@400;600;700&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--gold:#F5C518;--nb:#00C9FF;--ng:#00E878;--nr:#FF2D55;--no:#FF9500;--np:#BF5FFF;--bg:#04040E;--ease:cubic-bezier(.22,1,.36,1)}
html,body{width:100%;height:100%;background:var(--bg);color:#fff;font-family:'Rajdhani',sans-serif;overflow:hidden}
.bg{position:fixed;inset:0;z-index:0;background:radial-gradient(ellipse 80% 60% at 15% 50%,rgba(0,50,140,.22),transparent 55%),radial-gradient(ellipse 70% 50% at 85% 20%,rgba(90,0,160,.2),transparent 55%),radial-gradient(ellipse 60% 40% at 50% 100%,rgba(0,70,50,.15),transparent 55%),#04040E}
.scan{position:fixed;inset:0;z-index:1;pointer-events:none;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,.045) 2px,rgba(0,0,0,.045) 4px)}
.spots{position:fixed;inset:0;z-index:2;pointer-events:none;overflow:hidden}
.spot{position:absolute;top:-400px;width:3px;height:140vh;background:linear-gradient(to bottom,rgba(255,255,255,.09),transparent);transform-origin:top center;filter:blur(14px)}
.spot:nth-child(1){left:10%;animation:sa 9s ease-in-out infinite}
.spot:nth-child(2){left:33%;animation:sb 12s ease-in-out infinite 2s}
.spot:nth-child(3){left:60%;animation:sc 10s ease-in-out infinite 1s}
.spot:nth-child(4){left:82%;animation:sd 14s ease-in-out infinite 3s}
@keyframes sa{0%,100%{transform:rotate(-22deg)}50%{transform:rotate(16deg)}}
@keyframes sb{0%,100%{transform:rotate(20deg)}50%{transform:rotate(-20deg)}}
@keyframes sc{0%,100%{transform:rotate(-18deg)}50%{transform:rotate(22deg)}}
@keyframes sd{0%,100%{transform:rotate(16deg)}50%{transform:rotate(-24deg)}}
#ptcls{position:fixed;inset:0;z-index:3;pointer-events:none;overflow:hidden}
.ptcl{position:absolute;border-radius:50%;animation:pfloat linear infinite}
@keyframes pfloat{0%{transform:translateY(110vh);opacity:0}10%{opacity:.8}90%{opacity:.5}100%{transform:translateY(-60px);opacity:0}}
#flash{position:fixed;inset:0;z-index:9000;pointer-events:none;opacity:0;transition:opacity .07s}
#flash.g{background:rgba(0,232,120,.27)}
#flash.r{background:rgba(255,45,85,.27)}
#flash.on{opacity:1}
#phasebar{position:fixed;top:0;left:0;right:0;height:4px;z-index:800;transition:background 1s,box-shadow 1s}
#ann{position:fixed;top:0;left:0;right:0;z-index:700;padding:13px 40px;min-height:48px;background:linear-gradient(90deg,rgba(0,0,0,.95),rgba(8,10,30,.98),rgba(0,0,0,.95));border-bottom:2px solid rgba(245,197,24,.35);font-family:'Orbitron',sans-serif;font-size:12px;letter-spacing:3px;color:var(--gold);text-align:center;display:flex;align-items:center;justify-content:center;transform:translateY(-100%);transition:transform .5s var(--ease)}
#ann.show{transform:translateY(0)}
.cfp{position:fixed;top:-20px;z-index:8999;border-radius:2px;animation:cf linear forwards;pointer-events:none}
@keyframes cf{0%{opacity:1;transform:translateX(0) rotate(0) translateY(0)}85%{opacity:1}100%{opacity:0;transform:translateX(var(--dx)) rotate(720deg) translateY(110vh)}}
.fwk{position:fixed;pointer-events:none;z-index:8998;border-radius:50%;animation:fwk .9s var(--ease) forwards}
@keyframes fwk{0%{transform:translate(0,0) scale(1);opacity:1}100%{transform:translate(var(--fx),var(--fy)) scale(0);opacity:0}}
.mpop{position:fixed;z-index:8990;font-family:'Orbitron',sans-serif;font-weight:900;font-size:30px;pointer-events:none;animation:mpop 1.8s var(--ease) forwards;text-shadow:0 0 20px currentColor}
@keyframes mpop{0%{opacity:1;transform:translateY(0) scale(.8)}40%{transform:translateY(-45px) scale(1.12)}100%{opacity:0;transform:translateY(-110px) scale(.9)}}
#app{position:relative;z-index:10;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center}
.screen{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;gap:24px;padding:36px 20px;opacity:0;pointer-events:none;transition:opacity .6s var(--ease);overflow:hidden}
.screen.active{opacity:1;pointer-events:auto}
.btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:14px 32px;border:none;border-radius:10px;cursor:pointer;font-family:'Orbitron',sans-serif;font-weight:700;font-size:13px;letter-spacing:2px;text-transform:uppercase;transition:all .3s var(--ease)}
.btn:active{transform:scale(.96)!important}
.btn-gold{background:linear-gradient(135deg,#4a3000,var(--gold),#4a3000);color:#000;box-shadow:0 0 25px rgba(245,197,24,.5)}
.btn-gold:hover{box-shadow:0 0 55px rgba(245,197,24,.9);transform:translateY(-3px)}
.btn-blue{background:linear-gradient(135deg,#002a44,var(--nb),#002a44);color:#fff;box-shadow:0 0 20px rgba(0,201,255,.4)}
.btn-blue:hover{box-shadow:0 0 50px rgba(0,201,255,.8);transform:translateY(-3px)}
.btn-lg{padding:20px 56px;font-size:17px;letter-spacing:3px}
.live-b{display:inline-flex;align-items:center;gap:8px;background:rgba(255,45,85,.1);border:1px solid rgba(255,45,85,.5);border-radius:4px;padding:5px 16px;font-family:'Orbitron',sans-serif;font-size:11px;font-weight:700;color:var(--nr);letter-spacing:3px}
.ldot{width:8px;height:8px;border-radius:50%;background:var(--nr);animation:blink 1s ease-in-out infinite}
@keyframes blink{0%,100%{opacity:1}50%{opacity:.1}}
/* INTRO */
#intro-screen{gap:18px}
.eyebrow{font-family:'Orbitron',sans-serif;font-size:clamp(9px,1.3vw,12px);letter-spacing:8px;color:var(--nb);animation:eyin 1.2s var(--ease) both .3s}
@keyframes eyin{from{opacity:0;letter-spacing:22px}to{opacity:1;letter-spacing:8px}}
.show-title{font-family:'Bebas Neue',sans-serif;font-size:clamp(64px,13vw,148px);line-height:.82;color:var(--gold);letter-spacing:5px;text-shadow:0 0 30px var(--gold),0 0 80px var(--gold),0 0 160px rgba(245,197,24,.3);animation:tlin 1s var(--ease) both .5s,tpulse 4s ease-in-out infinite 1.6s}
@keyframes tlin{from{opacity:0;transform:scale(.82) translateY(28px)}to{opacity:1;transform:scale(1) translateY(0)}}
@keyframes tpulse{0%,100%{text-shadow:0 0 30px var(--gold),0 0 80px var(--gold)}50%{text-shadow:0 0 60px var(--gold),0 0 140px var(--gold),0 0 240px rgba(245,197,24,.35)}}
.tagline{font-family:'Rajdhani',sans-serif;font-size:clamp(13px,2vw,20px);letter-spacing:5px;color:rgba(255,255,255,.4);animation:fdin .9s var(--ease) both 1s}
@keyframes fdin{from{opacity:0;transform:translateY(14px)}to{opacity:1;transform:translateY(0)}}
.divider{width:280px;height:1px;background:linear-gradient(90deg,transparent,var(--gold),transparent);position:relative;margin:2px auto;animation:fdin .8s var(--ease) both 1.1s}
.divider::after{content:'‚óÜ';position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);color:var(--gold);font-size:12px;background:var(--bg);padding:0 10px}
.intro-btns{display:flex;gap:16px;flex-wrap:wrap;justify-content:center;animation:fdin .8s var(--ease) both 1.2s}
#wait-msg{font-family:'Orbitron',sans-serif;font-size:11px;letter-spacing:3px;color:var(--no);display:none;animation:fdin .5s}
/* SPIN */
#spin-screen{max-width:700px;margin:0 auto;gap:20px}
.spin-title{font-family:'Bebas Neue',sans-serif;font-size:clamp(40px,7vw,82px);color:var(--nb);text-shadow:0 0 30px var(--nb),0 0 70px rgba(0,201,255,.4);letter-spacing:5px}
.spin-sub{font-family:'Orbitron',sans-serif;font-size:11px;letter-spacing:4px;color:rgba(255,255,255,.45)}
.wheel-wrap{position:relative;width:min(380px,74vw);height:min(380px,74vw)}
#wcanvas{width:100%;height:100%;filter:drop-shadow(0 0 28px rgba(0,201,255,.55)) drop-shadow(0 0 65px rgba(0,201,255,.25));transition:transform 5.5s cubic-bezier(.12,.8,.1,1)}
.wptr{position:absolute;top:-16px;left:50%;transform:translateX(-50%);width:0;height:0;border-left:16px solid transparent;border-right:16px solid transparent;border-top:36px solid var(--gold);filter:drop-shadow(0 0 12px var(--gold));z-index:10}
.whub{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:50px;height:50px;border-radius:50%;z-index:11;background:radial-gradient(circle,#fff 0%,var(--nb) 55%,var(--bg) 100%);box-shadow:0 0 28px var(--nb),0 0 60px rgba(0,201,255,.4)}
#spin-msg{font-family:'Orbitron',sans-serif;font-size:15px;color:var(--gold);min-height:54px;display:flex;align-items:center;justify-content:center;text-align:center;padding:0 20px;letter-spacing:2px}
#spun-msg{display:none;font-family:'Rajdhani',sans-serif;font-size:16px;color:rgba(255,255,255,.5);letter-spacing:2px}
/* LOBBY */
#lobby-screen{max-width:700px;margin:0 auto;gap:20px}
.lobby-title{font-family:'Bebas Neue',sans-serif;font-size:clamp(44px,9vw,100px);color:var(--gold);text-shadow:0 0 30px var(--gold)}
.tgrid{display:flex;flex-wrap:wrap;gap:12px;justify-content:center;max-width:620px}
.tchip{padding:12px 24px;border-radius:10px;font-family:'Rajdhani',sans-serif;font-weight:700;font-size:17px;background:rgba(0,201,255,.05);border:1px solid rgba(0,201,255,.2);transition:all .4s}
.tchip.joined{background:rgba(0,232,120,.08);border-color:rgba(0,232,120,.5);color:var(--ng);box-shadow:0 0 16px rgba(0,232,120,.15)}
/* GAME */
#game-screen{flex-direction:column;width:100%;height:100%;overflow-y:auto;padding:54px 14px 14px;gap:10px;align-items:stretch;justify-content:flex-start}
.ghdr{display:flex;align-items:center;justify-content:space-between;padding:10px 18px;border-radius:12px;background:rgba(0,0,0,.7);border:1px solid rgba(255,255,255,.07);backdrop-filter:blur(14px)}
.glogo{font-family:'Bebas Neue',sans-serif;font-size:20px;color:var(--gold);letter-spacing:3px}
.gann{padding:9px 18px;border-radius:8px;text-align:center;font-family:'Orbitron',sans-serif;font-size:11px;letter-spacing:2px;color:var(--gold);background:rgba(245,197,24,.05);border:1px solid rgba(245,197,24,.18);min-height:36px;display:flex;align-items:center;justify-content:center;transition:all .4s}
.gbody{display:grid;grid-template-columns:1fr 260px;gap:10px}
@media(max-width:860px){.gbody{grid-template-columns:1fr}}
.gmain{display:flex;flex-direction:column;gap:10px}
/* TIMER */
.timer-card{text-align:center;padding:18px 10px;border-radius:14px;background:rgba(0,0,0,.65);border:1px solid rgba(0,201,255,.2);backdrop-filter:blur(12px);position:relative;overflow:hidden}
.timer-card::after{content:'';position:absolute;inset:0;background:linear-gradient(135deg,transparent 55%,rgba(0,201,255,.03));pointer-events:none}
.t-lbl{font-family:'Orbitron',sans-serif;font-size:8px;letter-spacing:4px;color:rgba(255,255,255,.3);margin-bottom:4px}
.t-num{font-family:'Orbitron',sans-serif;font-weight:900;font-size:clamp(64px,9vw,96px);line-height:1;color:var(--nb);text-shadow:0 0 25px var(--nb);transition:color .3s,text-shadow .3s}
.t-num.warn{color:var(--no);text-shadow:0 0 25px var(--no);animation:tpulse .5s ease-in-out infinite}
.t-num.dang{color:var(--nr);text-shadow:0 0 40px var(--nr);animation:tpulse .22s ease-in-out infinite}
.t-status{font-family:'Orbitron',sans-serif;font-size:8px;letter-spacing:3px;margin-top:6px;transition:.3s}
@keyframes tpulse{0%,100%{transform:scale(1)}50%{transform:scale(1.07)}}
/* QUESTION CARD */
.qcard{padding:22px 26px;border-radius:14px;background:rgba(4,8,28,.92);border:1px solid rgba(0,201,255,.2);backdrop-filter:blur(12px);transition:border-color .5s,box-shadow .5s}
.qcard.ph-betting{border-color:rgba(245,197,24,.45);box-shadow:0 0 30px rgba(245,197,24,.07)}
.qcard.ph-answering{border-color:rgba(0,232,120,.4);box-shadow:0 0 30px rgba(0,232,120,.1)}
.qcard.ph-result{border-color:rgba(255,149,0,.35);box-shadow:0 0 25px rgba(255,149,0,.08)}
.q-num{font-family:'Orbitron',sans-serif;font-size:8px;letter-spacing:3px;color:var(--nb);margin-bottom:10px}
.q-text{font-family:'Rajdhani',sans-serif;font-size:clamp(16px,2.2vw,23px);font-weight:600;line-height:1.45;margin-bottom:16px}
/* HIDDEN OPTIONS LOCKSCREEN */
.opts-locked{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;padding:28px;border-radius:10px;background:rgba(0,0,0,.5);border:1px solid rgba(245,197,24,.3)}
.lock-icon{font-size:48px;animation:lockbob 2s ease-in-out infinite}
@keyframes lockbob{0%,100%{transform:translateY(0) scale(1)}50%{transform:translateY(-6px) scale(1.07)}}
.lock-txt{font-family:'Orbitron',sans-serif;font-size:13px;letter-spacing:3px;color:var(--gold)}
.lock-sub{font-family:'Rajdhani',sans-serif;font-size:14px;color:rgba(255,255,255,.45);letter-spacing:2px}
/* REVEALED OPTIONS */
.opts-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px}
@media(max-width:600px){.opts-grid{grid-template-columns:1fr}}
.qopt{padding:12px 16px;border-radius:9px;border:1px solid rgba(255,255,255,.1);background:rgba(255,255,255,.04);font-family:'Rajdhani',sans-serif;font-size:clamp(13px,1.5vw,16px);font-weight:600;display:flex;gap:10px;align-items:center;transition:all .35s;animation:fdin .3s both}
.qopt.cr{background:rgba(0,232,120,.18);border-color:var(--ng);box-shadow:0 0 20px rgba(0,232,120,.25)}
.qopt.wr{background:rgba(255,45,85,.1);border-color:rgba(255,45,85,.3)}
.oltr{font-family:'Orbitron',sans-serif;font-size:10px;font-weight:900;color:var(--nb);min-width:18px}
.qopt.cr .oltr{color:var(--ng)}
/* ACTIVE TEAM */
.act-banner{padding:12px 18px;border-radius:10px;display:flex;align-items:center;justify-content:space-between;background:rgba(0,0,0,.55);border:1px solid rgba(255,255,255,.1);transition:all .5s;backdrop-filter:blur(8px)}
.act-banner.glow{border-color:rgba(0,232,120,.5);box-shadow:0 0 25px rgba(0,232,120,.15),inset 0 0 25px rgba(0,232,120,.03)}
.act-lbl{font-family:'Orbitron',sans-serif;font-size:8px;letter-spacing:3px;color:rgba(255,255,255,.35)}
.act-name{font-family:'Rajdhani',sans-serif;font-size:20px;font-weight:700;transition:color .4s}
.act-st{font-family:'Orbitron',sans-serif;font-size:10px;letter-spacing:2px;color:var(--nb)}
/* SIDEBAR */
.sidebar{display:flex;flex-direction:column;gap:9px}
.sbc{padding:13px;border-radius:12px;background:rgba(0,0,0,.55);backdrop-filter:blur(8px)}
.sbc-ttl{font-family:'Orbitron',sans-serif;font-size:8px;letter-spacing:3px;margin-bottom:9px}
.betr{display:flex;align-items:center;justify-content:space-between;padding:7px 9px;border-radius:6px;margin-bottom:3px;background:rgba(255,255,255,.03);font-family:'Rajdhani',sans-serif;font-size:13px;font-weight:600;transition:.3s}
.betr.hb{background:rgba(245,197,24,.06);border:1px solid rgba(245,197,24,.2)}
.bamt{font-family:'Orbitron',sans-serif;font-size:11px;color:var(--gold);font-weight:700}
.lbr{display:flex;align-items:center;gap:8px;padding:7px 9px;border-radius:7px;margin-bottom:4px;background:rgba(255,255,255,.03);transition:.4s}
.lbr.at{background:rgba(0,201,255,.09);border:1px solid rgba(0,201,255,.3)}
/* RESULT OVERLAY */
#result-ov{position:fixed;inset:0;z-index:8500;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:20px;background:rgba(0,0,0,.9);backdrop-filter:blur(24px);opacity:0;pointer-events:none;transition:opacity .4s}
#result-ov.show{opacity:1;pointer-events:auto}
#ro-icon{font-size:100px;animation:rbounce .6s var(--ease)}
@keyframes rbounce{0%{transform:scale(.3)}65%{transform:scale(1.18)}100%{transform:scale(1)}}
#ro-verdict{font-family:'Bebas Neue',sans-serif;font-size:clamp(50px,9vw,92px);letter-spacing:6px;animation:fdin .5s var(--ease) both .15s}
#ro-money{font-family:'Orbitron',sans-serif;font-size:clamp(24px,4vw,48px);font-weight:900;animation:fdin .5s var(--ease) both .3s}
#ro-team{font-family:'Rajdhani',sans-serif;font-size:20px;letter-spacing:3px;color:rgba(255,255,255,.5);animation:fdin .5s var(--ease) both .45s}
/* WINNER */
#winner-screen{overflow:hidden}
.w-trophy{font-size:90px;animation:trophybob 1.2s var(--ease) infinite}
@keyframes trophybob{0%,100%{transform:translateY(0) scale(1)}50%{transform:translateY(-18px) scale(1.1)}}
.w-title{font-family:'Orbitron',sans-serif;font-size:clamp(10px,1.5vw,14px);letter-spacing:6px;color:var(--nb)}
.w-name{font-family:'Bebas Neue',sans-serif;font-size:clamp(56px,12vw,132px);color:var(--gold);text-shadow:0 0 40px var(--gold),0 0 100px var(--gold);animation:wpulse 2s ease-in-out infinite}
@keyframes wpulse{0%,100%{text-shadow:0 0 40px var(--gold),0 0 100px var(--gold)}50%{text-shadow:0 0 80px var(--gold),0 0 200px var(--gold),0 0 300px rgba(245,197,24,.3)}}
.w-sub{font-family:'Rajdhani',sans-serif;font-size:18px;letter-spacing:4px;color:rgba(255,255,255,.5)}
.w-money{font-family:'Orbitron',sans-serif;font-weight:900;font-size:clamp(24px,4vw,52px);color:var(--ng);text-shadow:0 0 25px var(--ng)}
/* ‚ïê‚ïê‚ïê CINEMATIC ADDITIONS ‚ïê‚ïê‚ïê */
/* Betting phase on display: dramatic full-screen overlay */
#betting-phase-banner{position:fixed;inset:0;z-index:400;pointer-events:none;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding-top:60px;gap:10px;opacity:0;transition:opacity .5s}
#betting-phase-banner.show{opacity:1}
.bpb-inner{background:linear-gradient(90deg,transparent,rgba(245,197,24,.08),transparent);border-top:1px solid rgba(245,197,24,.3);border-bottom:1px solid rgba(245,197,24,.3);padding:10px 40px;width:100%;text-align:center}
.bpb-txt{font-family:'Orbitron',sans-serif;font-size:12px;letter-spacing:5px;color:var(--gold);animation:bpbpulse 1.8s ease-in-out infinite}
@keyframes bpbpulse{0%,100%{opacity:1;text-shadow:0 0 10px var(--gold)}50%{opacity:.6;text-shadow:0 0 30px var(--gold)}}
/* Question reveal */
.qcard.ph-answering{animation:qreveal .6s cubic-bezier(.22,1,.36,1)}
@keyframes qreveal{0%{transform:scale(.98) translateY(5px);opacity:.4;border-color:rgba(245,197,24,.6)}100%{transform:scale(1) translateY(0);opacity:1}}
/* Active team spotlight */
.act-banner.glow{border-color:rgba(0,232,120,.5);box-shadow:0 0 25px rgba(0,232,120,.2),inset 0 0 30px rgba(0,232,120,.04);animation:actpulse 2s ease-in-out infinite}
@keyframes actpulse{0%,100%{box-shadow:0 0 25px rgba(0,232,120,.2)}50%{box-shadow:0 0 50px rgba(0,232,120,.4)}}
/* sound viz bars */
.viz-bars{display:flex;gap:3px;align-items:flex-end;height:18px;padding:0 4px}
.vbar{width:3px;border-radius:2px;animation:vbar linear infinite}
@keyframes vbar{0%,100%{height:3px}50%{height:var(--h)}}
/* leaderboard transition */
.lbr{transition:all .4s cubic-bezier(.22,1,.36,1)}

</style>
</head>
<body>
<div class="bg"></div>
<div class="scan"></div>
<div class="spots"><div class="spot"></div><div class="spot"></div><div class="spot"></div><div class="spot"></div></div>
<div id="ptcls"></div>
<div id="flash"></div>
<div id="phasebar"></div>
<div id="ann"></div>
<div id="result-ov">
  <div id="ro-icon">‚úÖ</div>
  <div id="ro-verdict">CORRECT!</div>
  <div id="ro-money">+$0</div>
  <div id="ro-team"></div>
</div>
<!-- CINEMATIC BETTING PHASE BANNER -->
<div id="betting-phase-banner">
  <div class="bpb-inner">
    <div class="bpb-txt">‚è≥ BETTING IN PROGRESS ‚Äî OPTIONS LOCKED</div>
  </div>
</div>
<div id="app">
  <div id="intro-screen" class="screen active">
    <div class="eyebrow">SEASON 1 ¬∑ LIVE BROADCAST</div>
    <div class="show-title">LOGISTICS<br>AUCTION<br>SHOW</div>
    <div class="tagline">KNOWLEDGE ¬∑ STRATEGY ¬∑ FORTUNE</div>
    <div class="divider"></div>
    <div class="intro-btns">
      <button class="btn btn-gold btn-lg" id="btn-join">‚ñ∂ JOIN THE SHOW</button>
      <button class="btn btn-blue" id="btn-admin">‚öô ADMIN</button>
    </div>
    <div class="live-b"><div class="ldot"></div> LIVE BROADCAST</div>
    <div id="wait-msg">‚è≥ WAITING FOR ADMIN TO START THE SHOW...</div>
  </div>
  <div id="spin-screen" class="screen">
    <div class="spin-title">TEAM ASSIGNMENT</div>
    <div class="spin-sub">SPIN THE WHEEL ¬∑ CLAIM YOUR TEAM</div>
    <div class="wheel-wrap">
      <div class="wptr"></div>
      <canvas id="wcanvas" width="400" height="400"></canvas>
      <div class="whub"></div>
    </div>
    <div id="spin-msg">Press SPIN to claim your team!</div>
    <button class="btn btn-gold btn-lg" id="btn-spin">üé∞ SPIN THE WHEEL</button>
    <div id="spun-msg">‚úÖ Your team is assigned on this device.</div>
  </div>
  <div id="lobby-screen" class="screen">
    <div class="lobby-title">TEAMS READY</div>
    <div style="font-family:'Orbitron',sans-serif;font-size:11px;letter-spacing:3px;color:var(--nb)">WAITING FOR SHOW TO BEGIN</div>
    <div class="tgrid" id="lobby-grid"></div>
    <div id="lobby-status" style="font-family:'Orbitron',sans-serif;font-size:10px;letter-spacing:3px;color:rgba(255,255,255,.35)"></div>
  </div>
  <div id="game-screen" class="screen">
    <div class="ghdr">
      <div class="glogo">üèÜ LOGISTICS AUCTION SHOW</div>
      <div class="live-b" style="animation:none"><div class="ldot"></div> LIVE</div>
      <div style="display:flex;align-items:center;gap:8px">
        <div class="viz-bars"><div class="vbar" style="--h:14px;background:var(--nb);opacity:.5;animation-duration:.6s"></div><div class="vbar" style="--h:9px;background:var(--nb);opacity:.5;animation-duration:.8s;animation-delay:.1s"></div><div class="vbar" style="--h:16px;background:var(--nb);opacity:.5;animation-duration:.5s;animation-delay:.2s"></div><div class="vbar" style="--h:7px;background:var(--nb);opacity:.5;animation-duration:.9s;animation-delay:.15s"></div></div>
        <div style="font-family:'Orbitron',sans-serif;font-size:10px;letter-spacing:3px;color:var(--nb)" id="g-round">ROUND 1</div>
      </div>
    </div>
    <div class="gann" id="g-ann">WELCOME TO THE LOGISTICS AUCTION SHOW</div>
    <div class="gbody">
      <div class="gmain">
        <div class="timer-card">
          <div class="t-lbl">TIME REMAINING</div>
          <div class="t-num" id="g-timer">--</div>
          <div class="t-status" id="g-tstatus" style="color:rgba(255,255,255,.3)">WAITING</div>
        </div>
        <div class="qcard" id="qcard">
          <div class="q-num" id="q-num">WAITING FOR QUESTION</div>
          <div class="q-text" id="q-text">Waiting for admin to begin the round...</div>
          <div id="q-opts-area"></div>
        </div>
        <div class="act-banner" id="act-banner">
          <div><div class="act-lbl">ACTIVE TEAM</div><div class="act-name" id="act-name">‚Äî</div></div>
          <div class="act-st" id="act-st">WAITING</div>
        </div>
      </div>
      <div class="sidebar">
        <div class="sbc" style="border:1px solid rgba(245,197,24,.18)">
          <div class="sbc-ttl" style="color:var(--gold)">üí∞ AUCTION BETS</div>
          <div id="g-bets"></div>
        </div>
        <div class="sbc" style="border:1px solid rgba(0,201,255,.15)">
          <div class="sbc-ttl" style="color:var(--nb)">üèÜ LEADERBOARD</div>
          <div id="g-lb"></div>
        </div>
      </div>
    </div>
  </div>
  <div id="winner-screen" class="screen">
    <div class="w-trophy">üèÜ</div>
    <div class="w-title">CONGRATULATIONS ¬∑ CHAMPION</div>
    <div class="w-name" id="w-name">‚Äî</div>
    <div class="w-sub">LOGISTICS AUCTION SHOW WINNER</div>
    <div class="w-money" id="w-money">$0</div>
  </div>
</div>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<script>
firebase.initializeApp({apiKey:"AIzaSyCSyzYtCd-uiolBucZnncuIWpnE5mPG9Cs",authDomain:"logistics-auction-show.firebaseapp.com",databaseURL:"https://logistics-auction-show-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"logistics-auction-show",storageBucket:"logistics-auction-show.firebasestorage.app",messagingSenderId:"596983567254",appId:"1:596983567254:web:91f5b863db7464886503b7"});
const DB=firebase.database(),GREF=DB.ref('gameState');
const DID_KEY='LAS_DID';
if(!localStorage.getItem(DID_KEY))localStorage.setItem(DID_KEY,'d_'+Math.random().toString(36).substr(2,9));
const DID=localStorage.getItem(DID_KEY);
let ST={},prevVer=null,curScreen='intro-screen',wRot=0,lastResTs=0,winShown=false;
const $m=v=>'$'+Number(v||0).toLocaleString();
const esc=s=>String(s||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
const PCOLS={lobby:'#00C9FF',spin:'#BF5FFF',betting:'#F5C518',answering:'#00E878',result:'#FF9500',reveal:'#F5C518'};
// PARTICLES
(()=>{const c=document.getElementById('ptcls');const cols=['rgba(0,201,255,.3)','rgba(245,197,24,.18)','rgba(191,95,255,.18)','rgba(0,232,120,.18)','rgba(255,45,85,.14)'];for(let i=0;i<30;i++){const p=document.createElement('div');p.className='ptcl';const sz=1.5+Math.random()*3.5;p.style.cssText=`left:${Math.random()*100}%;width:${sz}px;height:${sz}px;background:${cols[i%cols.length]};animation-duration:${14+Math.random()*20}s;animation-delay:-${Math.random()*25}s`;c.appendChild(p);}})();
// FIREBASE
GREF.on('value',snap=>{
  const d=snap.val();if(!d)return;
  if(prevVer!==null&&d.version!==prevVer){
    localStorage.removeItem('LAS_SPUN_'+DID);wRot=0;lastResTs=0;winShown=false;
    document.getElementById('btn-spin').disabled=false;document.getElementById('btn-spin').style.display='';
    document.getElementById('spun-msg').style.display='none';
    document.getElementById('spin-msg').textContent='Press SPIN to claim your team!';
    document.getElementById('wcanvas').style.transform='rotate(0deg)';
  }
  prevVer=d.version;ST=d;render(ST);
});
// EFFECTS
function flash(t){const e=document.getElementById('flash');e.className=t+' on';setTimeout(()=>e.classList.remove('on'),200);}
function confetti(n){const cols=['#F5C518','#00C9FF','#BF5FFF','#00E878','#FF2D55','#FF9500'];for(let i=0;i<n;i++)setTimeout(()=>{const el=document.createElement('div');el.className='cfp';el.style.cssText=`left:${Math.random()*innerWidth}px;background:${cols[Math.floor(Math.random()*cols.length)]};width:${5+Math.random()*9}px;height:${9+Math.random()*13}px;--dx:${(Math.random()-.5)*380}px;animation-duration:${2+Math.random()*2.5}s;animation-delay:${Math.random()*.5}s`;document.body.appendChild(el);setTimeout(()=>el.remove(),5000);},i*10);}
function fireworks(){const cols=['#F5C518','#00C9FF','#BF5FFF','#00E878','#FF2D55'];for(let i=0;i<60;i++)setTimeout(()=>{const el=document.createElement('div');el.className='fwk';el.style.cssText=`left:${Math.random()*innerWidth}px;top:${Math.random()*innerHeight*.7}px;background:${cols[Math.floor(Math.random()*cols.length)]};width:${3+Math.random()*7}px;height:${3+Math.random()*7}px;--fx:${(Math.random()-.5)*260}px;--fy:${(Math.random()-.5)*260}px`;document.body.appendChild(el);setTimeout(()=>el.remove(),1000);},i*55);}
// ANN BANNER
let annT=null;
function showAnn(txt){if(!txt)return;const el=document.getElementById('ann');el.textContent=txt;el.classList.add('show');clearTimeout(annT);annT=setTimeout(()=>el.classList.remove('show'),5500);}
// SCREEN
function showScreen(id){if(curScreen===id)return;document.getElementById(curScreen)?.classList.remove('active');document.getElementById(id)?.classList.add('active');curScreen=id;}
// PHASE BAR
function setPhasebar(phase){const c=PCOLS[phase]||'#00C9FF';document.getElementById('phasebar').style.cssText=`background:linear-gradient(90deg,transparent,${c},transparent);box-shadow:0 0 14px ${c}`;}
// MAIN RENDER
function render(st){
  setPhasebar(st.phase);
  if(st.announcement)showAnn(st.announcement);
  if(st.phase==='lobby'){showScreen('intro-screen');if(st.teams&&st.teams.length)document.getElementById('wait-msg').style.display='block';return;}
  if(st.phase==='spin'){showScreen('spin-screen');renderSpin(st);return;}
  if(['betting','answering','result'].includes(st.phase)){showScreen('game-screen');renderGame(st);return;}
  if(st.phase==='reveal'){showScreen('winner-screen');renderWinner(st);return;}
}
// SPIN
function renderSpin(st){
  drawWheel(st.teams||[]);
  const spun=localStorage.getItem('LAS_SPUN_'+DID);
  if(spun){document.getElementById('btn-spin').style.display='none';document.getElementById('spun-msg').style.display='block';document.getElementById('spin-msg').innerHTML=`<span style="color:var(--gold)">‚úÖ YOU ARE: ${spun.toUpperCase()}</span>`;}
}
function drawWheel(teams){
  const c=document.getElementById('wcanvas');if(!c)return;
  const ctx=c.getContext('2d'),W=c.width,cx=W/2,r=W/2-14;
  ctx.clearRect(0,0,W,W);
  if(!teams.length){ctx.fillStyle='rgba(0,201,255,.1)';ctx.beginPath();ctx.arc(cx,cx,r,0,Math.PI*2);ctx.fill();ctx.fillStyle='rgba(255,255,255,.4)';ctx.font='bold 16px Orbitron,sans-serif';ctx.textAlign='center';ctx.textBaseline='middle';ctx.fillText('NO TEAMS',cx,cx);return;}
  const sa=Math.PI*2/teams.length;
  const cols=['#FF2D55','#00C9FF','#F5C518','#BF5FFF','#00E878','#FF9500','#00BFFF','#FF69B4','#7FFF00','#DC143C'];
  teams.forEach((t,i)=>{
    const a=i*sa-Math.PI/2,b=a+sa;
    ctx.beginPath();ctx.moveTo(cx,cx);ctx.arc(cx,cx,r,a,b);ctx.closePath();
    ctx.fillStyle=cols[i%cols.length];ctx.fill();
    ctx.strokeStyle='rgba(0,0,0,.35)';ctx.lineWidth=2;ctx.stroke();
    ctx.save();ctx.translate(cx,cx);ctx.rotate(a+sa/2);
    ctx.textAlign='right';ctx.fillStyle='rgba(0,0,0,.9)';
    ctx.font=`bold ${Math.min(14,170/teams.length)}px Rajdhani,sans-serif`;
    ctx.fillText(t.name.length>10?t.name.substr(0,9)+'‚Ä¶':t.name,r-12,5);ctx.restore();
  });
  ctx.beginPath();ctx.arc(cx,cx,26,0,Math.PI*2);ctx.fillStyle='#080820';ctx.fill();
  ctx.strokeStyle='rgba(0,201,255,.7)';ctx.lineWidth=3;ctx.stroke();
}
function doSpin(){
  if(ST.phase!=='spin'){document.getElementById('spin-msg').textContent='‚ö† Spin phase not active yet.';return;}
  const spun=localStorage.getItem('LAS_SPUN_'+DID);if(spun){document.getElementById('spin-msg').innerHTML='<span style="color:var(--gold)">‚úÖ Already assigned: '+spun+'</span>';return;}
  const asgd=ST.assignedDevices||[];if(asgd.find(d=>d.deviceId===DID)){document.getElementById('spin-msg').textContent='‚ö† This device is already assigned.';return;}
  const taken=asgd.map(d=>d.teamName),avail=(ST.teams||[]).filter(t=>!taken.includes(t.name));
  if(!avail.length){document.getElementById('spin-msg').textContent='‚ö† All teams are taken!';return;}
  const btn=document.getElementById('btn-spin');btn.disabled=true;
  const picked=avail[Math.floor(Math.random()*avail.length)];
  const idx=(ST.teams||[]).findIndex(t=>t.name===picked.name);
  const segDeg=360/(ST.teams||[]).length;
  const target=360-(idx*segDeg+segDeg/2);
  wRot=wRot+1800+Math.floor(Math.random()*360)+target;
  document.getElementById('wcanvas').style.transform=`rotate(${wRot}deg)`;
  document.getElementById('spin-msg').textContent='üé∞ SPINNING...';
  setTimeout(()=>{
    const newDevices=[...asgd,{deviceId:DID,teamName:picked.name}];
    GREF.update({assignedDevices:newDevices});
    localStorage.setItem('LAS_SPUN_'+DID,picked.name);
    document.getElementById('spin-msg').innerHTML=`<span style="color:var(--gold);font-size:18px">üèÜ YOU ARE: ${picked.name.toUpperCase()}</span>`;
    btn.style.display='none';document.getElementById('spun-msg').style.display='block';
    setTimeout(()=>location.href='team.html?team='+encodeURIComponent(picked.name),2800);
  },5600);
}
// GAME
function renderGame(st){
  const phase=st.phase,qs=Array.isArray(st.questions)?st.questions:[],qi=st.currentQuestionIndex,q=qi>=0&&qs[qi]?qs[qi]:null;
  if(st.announcement)document.getElementById('g-ann').textContent=st.announcement;
  document.getElementById('g-round').textContent='ROUND '+(st.round||1);
  // Toggle betting banner
  const bpb=document.getElementById('betting-phase-banner');
  if(bpb)bpb.classList.toggle('show',phase==='betting');
  // Timer
  renderTimer(st);
  // Active team
  const banner=document.getElementById('act-banner'),aname=document.getElementById('act-name'),ast=document.getElementById('act-st');
  if(st.activeTeam){banner.classList.add('glow');aname.textContent=st.activeTeam;aname.style.color='var(--ng)';ast.textContent=phase==='answering'?'‚ö° ANSWERING':'üìä RESULT';ast.style.color=phase==='answering'?'var(--ng)':'var(--no)';}
  else{banner.classList.remove('glow');aname.textContent='‚Äî';aname.style.color='#fff';ast.textContent=phase==='betting'?'üîì BETTING OPEN':'WAITING';ast.style.color='var(--nb)';}
  // Question card
  const qcard=document.getElementById('qcard');
  qcard.className='qcard ph-'+phase;
  if(q){
    document.getElementById('q-num').textContent='QUESTION '+(qi+1)+' OF '+qs.length;
    document.getElementById('q-text').textContent=q.text;
    // PHASE-BASED: betting = lock options | answering/result = show options
    const optsArea=document.getElementById('q-opts-area');
    if(phase==='betting'){
      // OPTIONS COMPLETELY HIDDEN ‚Äî only question text shown
      optsArea.innerHTML=`<div class="opts-locked"><div class="lock-icon">üîí</div><div class="lock-txt">OPTIONS LOCKED</div><div class="lock-sub">Place your bet to unlock ¬∑ Admin will reveal when betting closes</div></div>`;
    } else {
      // OPTIONS REVEALED with animation
      optsArea.innerHTML=`<div class="opts-grid">${q.options.map((o,i)=>{let cl='qopt';if(phase==='result'&&st.lastResult){if(i===q.correct)cl+=' cr';else if(i===st.selectedAnswer&&i!==q.correct)cl+=' wr';}return`<div class="${cl}" style="animation-delay:${i*.07}s"><span class="oltr">${'ABCD'[i]}</span>${esc(o)}</div>`;}).join('')}</div>`;
    }
  } else {
    document.getElementById('q-num').textContent='WAITING FOR QUESTION';
    document.getElementById('q-text').textContent='Admin is selecting a question...';
    document.getElementById('q-opts-area').innerHTML='';
  }
  // Bets
  document.getElementById('g-bets').innerHTML=(st.teams||[]).map(t=>{const b=st.bets&&st.bets[t.name];return`<div class="betr ${b?'hb':''}"><span>${esc(t.name)}</span>${b?`<span class="bamt">${$m(b)}</span>`:`<span style="color:rgba(255,255,255,.3);font-size:11px">‚Äî</span>`}</div>`;}).join('');
  // Leaderboard
  const sorted=[...(st.teams||[])].sort((a,b)=>b.money-a.money);
  document.getElementById('g-lb').innerHTML=sorted.map((t,i)=>`<div class="lbr ${st.activeTeam===t.name?'at':''}"><span style="font-family:'Orbitron',sans-serif;font-size:13px;color:rgba(255,255,255,.3);min-width:26px">#${i+1}</span><div style="flex:1"><div style="font-family:'Rajdhani',sans-serif;font-weight:700;font-size:13px">${esc(t.name)}</div><div style="font-family:'Orbitron',sans-serif;font-size:8px;color:rgba(255,255,255,.3)">W:${t.wins||0} L:${t.losses||0}</div></div><span style="font-family:'Orbitron',sans-serif;font-size:11px;color:var(--gold);font-weight:700">${$m(t.money)}</span></div>`).join('');
  // Result effect
  if(st.lastResult&&st.lastResult.timestamp&&st.lastResult.timestamp!==lastResTs){
    lastResTs=st.lastResult.timestamp;
    flash(st.lastResult.correct?'g':'r');
    showResultOverlay(st.lastResult);
    if(st.lastResult.correct)confetti(120);else fireworks();
  }
}
function renderTimer(st){
  const el=document.getElementById('g-timer'),es=document.getElementById('g-tstatus');if(!el)return;
  let rem=st.timerRemaining||0;
  if(st.timerRunning&&st.timerStartedAt)rem=Math.max(0,(st.timerRemaining||0)-(Date.now()-st.timerStartedAt)/1000);
  const s=Math.ceil(rem);
  el.textContent=s>0?String(s).padStart(2,'0'):'00';
  el.className='t-num'+(s<=3&&s>0?' dang':s<=5&&s>0?' warn':'');
  if(es)es.textContent=st.timerRunning?'‚óè RUNNING':'‚ñ† STOPPED';
  if(es)es.style.color=st.timerRunning?'var(--ng)':'rgba(255,255,255,.3)';
}
function showResultOverlay(res){
  const ov=document.getElementById('result-ov');
  document.getElementById('ro-icon').textContent=res.correct?'‚úÖ':'‚ùå';
  document.getElementById('ro-verdict').textContent=res.correct?'CORRECT!':'WRONG!';
  document.getElementById('ro-verdict').style.color=res.correct?'var(--ng)':'var(--nr)';
  document.getElementById('ro-money').textContent=(res.correct?'+':'-')+$m(res.betAmount);
  document.getElementById('ro-money').style.color=res.correct?'var(--ng)':'var(--nr)';
  document.getElementById('ro-team').textContent=res.teamName+(res.timeout?" ‚Äî TIME'S UP":'');
  ov.classList.add('show');setTimeout(()=>ov.classList.remove('show'),4000);
}
function renderWinner(st){
  if(!st.winner)return;
  document.getElementById('w-name').textContent=st.winner.name.toUpperCase();
  document.getElementById('w-money').textContent=$m(st.winner.money);
  if(!winShown){winShown=true;confetti(250);fireworks();}
}
// LIVE TIMER TICK
setInterval(()=>{if(ST&&(ST.phase==='betting'||ST.phase==='answering'||ST.phase==='result'))renderTimer(ST);},350);
// BUTTONS
document.getElementById('btn-join').addEventListener('click',()=>{
  const p=ST.phase;
  if(p==='spin'){showScreen('spin-screen');renderSpin(ST);}
  else if(['betting','answering','result'].includes(p)){showScreen('game-screen');renderGame(ST);}
  else document.getElementById('wait-msg').style.display='block';
});
document.getElementById('btn-admin').addEventListener('click',()=>window.open('admin.html','_blank'));
document.getElementById('btn-spin').addEventListener('click',doSpin);
</script>
</body>
</html>
